language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` >docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend
  .
- docker push riskycarter/se234-lab10-backend
- docker pull riskycarter/se234-lab10-client
script:
- docker-compose -H "$HOST_NAME" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: YZEaYmvRfmJfxxRQ8+Z7OittddqCn/6fyLNAlEJVqpqwxY6guTalPdTH3uC8NrJaIL2lThlGEVhZHvjif5qauqWdZRdohhSnfCsv3oHL/ymqp1Q+677AfSon7sHfGh/s+YoC0Q9ZQWZi1YpSnzcXLhtuJCqtB9aM2KRdq28fUDJUnHvVpDz/wKOSsP2Jry58VZ4SzwFApN0QXVyOR4DbU7byl742ySs1KN+D2cPPHZd76zuwlbxpXxoAVkAepsgsuKuBxYHgt+15rNv/G1ZiRArermKhMDhTepPpKyUzFHL3ahXln7eUK5QFfRgUHwlGgStbnoc5gEn5dXFcC5HbeY2ms2NmyFt4QFFr7wHfmqJvhg+2pPnTjTaGtOkjYJXx22PIEm0+gF1NILzZQXAWMVtVoQJxHXRQGXqy9BGYMydzbNsEKd2h2PyzkCtY/PeGocmdXMrZswStsElLnrzmuqwTt3hTd6/FA4XRhOcH8wOAwnLIsb4TOl1UKAhDzaInTRovVAIx4bjIsnkFsTj/o2oPImDJKYwC9bN1sh0vBOVjoCVopx5Q8qQpogP9VC+CtoLGy2KPqaVZKe+t6JFizyoXh31LbaBsJCvF1CDdDhcSNTlRmo8ZTjeQO8csZScL25ILZ82+FIjxcZ6gODqUw/q4x1A8lG8Hqd4dXhiIAMI=
  - secure: M17EAW4yyhrIP9ioUO1NA/i06XdRCJhf4BqD+aPc+NtGh+doZcU+pfKFx4LSUQOkA5IHuoIxKKVyzDc9yJD5HNYfJrla1Z5G1UbZeYNx8kyJjBuAMHFF5BX8G6JhvO54idC1Nc4lrzxLPABDRmapOba6Mr2etb0IrBnGBB5KvuM8vGdlp/VU/YEbtI8LTxoC6lAM5GYubDUPOMnv7p/kX5cb1e6iVtZVDut3osFJjcktwmHZLLIsX40AFJgaRGnyVNOazTVarVdSj0e07I+PvAxk3nkbOhXZNxpa5gAF5M9xWP1LiyGw6Lm8JoQO0PRTL5jvVr6CH/hGmYmtwkhBBw1qT+31XiKW/YZJcW03+hZOZiCuwqTRehxl/mDi9HANGBw4SBfzclEL36B+0w0wnZeJChQDvCfTlw4mYlTcw7C15uxuTEpDTake3SvE/M14cyW3REwshej+XlVh43tEdFFANdLlAZu5qtKJt8yKVwiPnqcXtgSZp2X7xLcegGD4LYulvAF8v5rR4s6ENYdQSbQLFT1JvGn3hb5YM3N+hFBOTYA+SqGvIwFyGUvGKGlwG3pnRokXJP11b3nND+yUlwxDPXz+yArG0WJqK4tQRQYst2H71WVaMQGCgFRIuRTpP/aPr3xOMi0rQYflIK1ADEV+eLXcijGhMFzFmTw/Jaw=
  - secure: rZxQxt2QB+Fi1fJcVuVnnq7v49Yz7z87agPR4NadqLR9ajgacHdf4fXkD+/JFE+SN6dLZJPyf8IUMu5jGAiziQ/MGfLgubgdmXegxFb6s78tQpg06FYQf1Kozm66uhEbRxWn++Kzz9dZVYXAUbP6rcghtBErAJufOhuD0Uk6W3hljFgVgCh4r6EVVxHVcqH8f+cVkDRHgkR/eXgRU9Ox1YaTcsaWIjZ7rwaUmCj1FHX4KFg2ptbKhglaMzMBKd0zHIlOd/ynkabjcNofWDbsUq6vtYcrt7OoKJQ3O0bTyloepmg50I+Ugsi/oIdQGuR/WA8QAoh2C5sUM1NpzD3SUc36kvPetmHFIVzUdrkWwn8E54VmjZJYFbJQljA6Y/OvL87NNGsBMyAvs9S+zuXchryppxiGsnMwpcC1GmQU9aLwC+bL1rHEuCdFYO4RlwfH88CaVhPQbnKomg9h7/bXKLatHkQSa0VtB4su41qTOsM/ASUmS09Mic3DCwMmg/Q4jRopdEv3lS7AcCUVI6YfuhJKgH/vBBNpDyzREoMgt6rTX/bfRjoQi7jqXQYXVscE47D8pxo9vGlf8pNN7H1DFdQ+EoaRMFDH3V/UuFxEockWLB8LzfUTlSnoceObX223wqLAacp/e+EpOyPOuGqhStGOLYHa00c4XyM3kOIfn6o=
  - secure: aYBHvek097mq0rJL2OuO6fQNtoNdf00s5mwPGTwVCBv0nMyF0teU19oWg4IonXIVlYSen8zoyD3oPwZ3lvppcuNC8/E+iVHCsQZEK6FNQtU43M9QxUxgr6ll3Y0NFU5NKpdktenDID+KhPHD7tY8Q8fCZZ5TpNGMHtXgww3n6tvLVihA2uXK0z3KhkqsR/vAGC0Xxu5isbeBi2ZKIAcezInGZ4l6zfIWRwR2euem1T9RF31ojKVmdoRsh19lPBl+H1MgpThykC/x7oPL1UZFKqPeY5pHgwA191jbJAuznzQH3uJO6Og8ragyIpnN25poxmP6sYEQZPyfJBTJd2c9PCzmcIHdWCxWbicBfm7mJ/gPwhayiiPDpLrDCzaNizzHVocG4UKOIIps0VdIYA3A5mQLUVfxeiSySzJcT4BKAUkAAwDuQ5KH2T4hC0p7nhJrIhUos74AqU+8SAhR/MqJCh4mOG7b4y47CbuxqTKyF8twwNWDTbiDzQWdQJB1hK+Qo4TzQPPhrC5fpMLet4iWe45R1zjLeLAN/r1Z+shnPjB2DlcBm4zLrtnxW8NlrKXyqCh4FhB0TiGlusZG85eS8sQkNjgn2f6F5KI3wA9zRxwJ8VJAXHmHKZJeXrp3S9/Y8lxdz/vQB5OZREY7yXw96nwDr+xmMBDD0KqQh/qgc0A=
