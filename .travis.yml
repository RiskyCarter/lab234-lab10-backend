language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` >docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend .
- docker push riskycarter/se234-lab10-backend
- docker pull riskycarter/se234-lab10-client
script:
- docker-compose -H "$HOST_NAME" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: RPStu2FGgFbWkdUtF+qwnJCE4Zii+BitZ/jaDrn3XRNmOxBPvj6GSPU9GHbDktVPmaeQKD9e4ggv1UjZnNzDtuB73vRxiefpZhSAPKa2EH/maRtzt4dS8vEEN1zTsF1ZW78m4GHhzHL0YkgRF7uL9tW4kXhGBSEAGZNmsk1Pc8thc+INN7svjPK+bftzj//Ek4bUItSc5tTFDpzDbH5tnXJxmXO3JkIm+oxnuZDTVRLl+ANkcP1eUE8whPtbIdJV8lNc66tip766U3CBNWV06MSuvrDamKs+rNYm5T9s5FnlTpCPF8FYcExJpi7u9OlIfwaFMwMh84NjvRt7E8cYr9aI6WO1ECc2Hb9OebpRprH6bWQ8sOAQWKUbR/RPH8k97Pc4bj8/l/Q5mf50hWTdNgzIONyINSL/pqIQl7Kn4M6NfebQeK6WXyqUMHYlf8FIsS5WQcEy47jUxdbT66oiwsdhfnuqwi/sgW5K/yCzQnlt8qIH6UnlBJm6ZFcn25KTdZEcyFHkFyvUZm0HO7kYONrxjmSm1aWYwnYUK8JwDX/H6A7c3hnLUM7Iva/sMOUgIeMPkF59wVV7FnsvOkGXNUMXaP9JIaB1qzyR4srEmEV6rp8b4FE0g5hzI7wANrRTCN/WKMCfi4s/QZMRjw/IJ6EyN5ZzDeOpI1D6UxA4NlE=
  - secure: zO4hnxf0LDVGZa7ecqEJuFMnkpM1Bw4G/vhM4aAcNWrMn1Wt2XTx74BVCwWhHJhOt5iG+9+ToKp5NzmWUcKhDTxKfbILsEeC22G4LngZUPQi/7nDWiZTAyEfd0MFXuAR1+KrtPmJ+xevk0IgGe10RYB4caNoybOV3UttObYeDhpvyEY6m5yJ0tCk/AOJ49o+XNNHLW7QcY0p+G+Rklz3oEwRGB9kp5E7wWLuXQzLuCJvUdOxD6I6p8f0FX6cyRdgCmXk0Ro9EVXrjNpzNpTpFY+qhT9CiRF4udA7tDPYcqDX3sMtc/uaEtlegrMzfEVLpo5nfHLfXgV3eeHCJRFiuZ7yBYDvdXbYFvTRQlN/aHkrzFCErutKax+tdwVtul9Bn+cR46WQ5qXm+bKvravdRP7gv9y2wNzVkCtwhuKNnHMc7V9/4DipKmB5YpU4wu+0mNNJOOYwba11GZ4aTNk57BTANA2TIHuulYqxNyjgoi+yExK2sgSsdjR3YA3bQ0OoozvcwY/1djGqiLJeJtglKr9EpknQyNUoFt1QNp36njKfEs8aUwIi/KT7whO9JU/kRh0N6vD54PeiT8aYwNca4AJudawrrmlwTibHh6r0BBbuPGpWo7nZilpVta+IrCXZkhTWH7Eh8HeLrkn8EPSdhxL42cqJycjlDXAmuSTCnGo=
  - secure: DijfuT2uA1eWZHpmxAoEvvwOE9XZePXfEdU7hgPAgZdSaDemVqLv9ZHqh3nQBPU666rhrFx2NXVadVykyWXybX83DhSPyF11V1yIdEsodr8BZ6xAnF2TxtLAFV3SRAY+kgKAgRRF7WEzyTRVHupA7AHQVXd1j6bcica9K7JITKhC3REhoX6PS+o9Qj0I0BHIzX/8lHEW6UYaaNLoeZeiXRNjfO7jHGNtvlVBKxX1TLFU1IHBXG9g6VLYtZSC9+bG2j0VvztGimqwtVYlsIoQxowKJlYEG5/eRbOsTWHQA7OOlsuidAH9uLGAPdAnmpM9ICYtJDgPFeoWGOGhWwGXYw8lUuSk05uPZcFjd5ekhj4Uf6HKReR3/O00UAGr8qOpBKv3/A25coS3FTBc0ExqEOx2p64yZGsTrDbL00nuA5dNjdzuq48cadBH6n7GXvDC1MY0Q+ORubdxwX5LiY+rvOA9cyC+s/193jWAXszvutavVXzWsGFPNGieMtrXdSbmUIOMX6o//D6ZiDjgeJtqbX7SCtnNv9h2yZX4Ea4tfwAOCy8H1N4rks/rPmtculPDiCPute5MwzIr6c/LLCK1fQnBhFeSqVYST9+T/b1HLioQ4junHNp8VBDUdq4Fg5tN/hG0B3awWF9tccC5kgwHYSImChf7ZCM7zGYWfLPMJ/Q=
  - secure: T9un1mVam3uzjTPo2XqDLl0JjZap65pg4UPCec0LGpfKcWJi2vN9YjezfHDlKsWj0EdsRNUwZHfgmyy8IXliRrXPWmb42rLgUdP3RzDh4TJuuzT0W+PWw8+TxdwH1wX2INyJjYgAqoGOrphWCjus/u0G5gh7sdtcF+0jpgt2jfXGfFKvErAhzJ3+ibhhkae6CShHPiWP48tMTdQJ6mWwl400ZGiHhcH/5wveuDAfG+Ig7hf9y9mVFXssxTToBENJkTWxWPLHAopqpo/789W0LjcntRASbpqUJIJaW3zgiIzVFZNcxpvHnmZRfQmK1m8EDSz6MYcAHK86VGCVd9ZD8xCXjwS74NUeuzSx3MM/Q7TfHZL4sSJvk3Au6usVhDujMMIH048lN2KMa1xrAseOkTLvmlUCEJyhbZR4nCpHLnO1kH7ZaLmOloc6HFxoI7hU+fuLz5TCTrmG20md6qNfvwQ+wrzVY1AMwbF5866m5o23azPptotmnsWSDHw6uAJAMWbUp6uE5e+7+Hy9F7ZwFG+r7z870EL3G0TMZ4e5Go0c/kt3WspT4gJQppxo1PDD2iKM+n/mXxWa+sTQmzGF8TS4CwsBAvbEFhP4v4QxM0ojw3DIeoiLVpqsPjlQGswLVH7YC4nm3rAaglR+HzP2GK4YWXu64LllXG1n4CVMUsE=
